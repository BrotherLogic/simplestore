language: java

branches:
  only:
  - master

before_install:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in secring.gpg.enc -out local.secring.gpg
  -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in pubring.gpg.enc -out local.pubring.gpg
  -d

install: mvn install -DskipTests=true -Dgpg.skip=true

script:
- if [ $TRAVIS_PULL_REQUEST = 'false' ]; then mvn clean verify deploy --settings settings.xml -Dgpg.passphrase=$ENCRYPTION_PASSWORD;
  else mvn clean verify -Dgpg.skip=true; fi

env:
  global:
  - secure: bCl3t3bqRM8kmiCXFQ0M7PJfrjLsCDndxWfg4vc5gvEnAiyb31Qscj2jbM2lNoHtHdtz1NGF8atK3m7WmMWuJgT0IE457xiVFSG+coap9jaf2qjDmGxVg/jgvkRf6yB58sN2kCB4fqEY4IklfMZ/E651KZkQ5An8qLJ7Ax51UnifuYRbu3LdwNYxYBSwySNz1nECw9hdRqasCbxLUp/xbEiL0dhbre8kwVynkjLhcUnglvqPIw/jvDWtOFKywpZIH3bMX4fLehvAMnclqzoTJKvmHmSr0QNUqsNTxW/xJDEYN1esSKLQWHy/0E8X+zE1SVdlzDfgYnuCSWJed/oM5HQPLuB+rjz7VZSh5AFAC31GBtDICZiSRca9Gj+sJjvfXXuSn87CtRzFii7YYIXE6ZIyczBlxClO0sA6PkQM6w+7tjUDDXqWgmA3a2c8qTfERYc6Ghtsvx2mgB7IvPUzJD6QRIJE+4hXAbvUZ/+6CCrhv+1KQv+QUwdXE/KnO6v+lWALN02wNqxy9Ut2rcKgiT6jOTVvoNand0BCPpGJAfWFoDDRYfKgH1Kdo1D+FtY0Agr74VsJExUynagiDpm6wrzhV3534YY9jYve66jOogT/syob26VabFbGcUfNLCDjrOkDHdgYkdJ/TO9SfGtDqDOwBkLUi7nmF+b2p7L7hMM=
  - secure: ZnbVdZKuJGOdTx9RGt5ArCCAM/QUt8Qdtu768LKqJyK3gK8BRKjTuhM4XeM+hr81CSg0P4rSwPBaUJ/p3MZh6JP/+9iF0MSe8X+cuTY5kCSsz2d9a113AsbCuQkZVKtHAZxl0QiTfWf9ZHOr6b3kOS9i0n3fQeBeMgkPDlY34wW/j4lBC0U9DKiuuE6BYBkJEG9efxYkijkiBtPa7SN+28LOfhBN/ekBanOzbSPxOvgasyLloqkp6ynguHHDw2w3QxNybxU1joDKPD85cf17R5847A0sMQzjclRJReV87qi84eteTqOElL92symE0INX2SHLissKLZZiO0oXl3BMe+1gNipn2AhrnkRaukEaV8OVmboHqKlT8/POP6JR4+XXSTMs/dsYarGMRCvPWTOnLSeKKZ8bIs7qa6Tk5DbDWnNi1LjjOWn7FthXwrQI6OhUeA74dJNThBnpsMkshLFR/qh6b+pSPe7zO++MZp8+bK4I6JhU/iBflxcsLge6dUhk2V779uC7VrL48qxpBM8iwRVvA/YKo9bAZ9N3qD1MtyA3KBwltRtAYsm7YsBxyVmHMVo/EkUi0TPwwg2fCuPfOPATXxnc4nFN9xBrG3CgHc5Bh4gSYcnfbbpzLedKpo8PwzGHGWhlxljJ8Pt3i5Uvfr+NNwH6WitZskxYT08YinI=
  - secure: EMxB2rj/xC2ATEBJkuue8tDsJLVQz7iaS5QGDngUAWaWvfuF/qei1lkSUBTHCkMqbHop+nKNM3qt7Xpq5UA/XHbe3xtxVN6QlMrE0ATKEPut0GqlqBUsRM4oBPJ2tNPRhEC5e80IJPH8QVKaBq3pZ5QWF9f+iB9r4veoUAz7JWNt3EK2seuxHbcvnq9hllWcZVAPVg/ywxgH6ZXp/U0DnBrrBRftGuEcyFR0KXnxGqBSu8LMmYPHcwdjqGvquCVIaaR7ScNC9CLa6t+gBqhk7Itdf2DCGpPjrIC0q7g9JfqtnJgViHY/Wgbtr/AYCrbAZqB5D/M1NcbojY0Y/BsxUAXtYicHLzW0A6LKhuwwknjoxbsEGoiX4CtEn+oJEZiA5EfosSIOQEVx/K6MlcwHxGq1nRfW66Irf9jrpuB2/Z897WSC6am+AQncCKX4clG/aJqjWP8mN9rjNZhwoT6J6OvRzuomQLnpd3legxVg7CXDgueBFS8SSFhTpE9RezI8nwlQ+ucLoSt9i4cE8xSyIjdHAgyIoGr0Tw4bElDLcjwDY8NincEHQcVtqMwp8BgNy+k3mB+ALr0yJfkx8TeEf8gohw86ks4cHMiFVhod/O2E+ZXkq4FDWlrq62tur+SgaY2JT+BYkJp595DOsytmnxi6YUcCTCl6p04T/yuaSgU=
  - secure: nzH1frRFBC75Tvmz1EMgZ8aN94iU6BTtjisUPIiRPZAHiWNKtrUlKi9NFqZwhjNHJZZlXxjAebSMsfMMNWkX5AbOU530gNk7bNDdSTV1zZttZkhQgdROH5qnPcwa4yI9hyNplv0MBIclSji8MJMN86+INg67qpeIcJDBH8LTSfVug2AzxS8e8+C2jDlF2w/ZfP04W3SVzCkZ2mj0ttJDmp/CVdjbDYXA5jGrVZLuTWhLK9eCy6sI6c2cPanpmIvvrWf1eaobyCn6DEsKmXXuthdszQL0TXMDW6KPl9SxdIFVT1pOyoQkWJJyG0cMjOIWmPjvSr/h0gqIvRbo1BJkqjXN3+/RETBnuTO3zWzunpRixCOMz3Bdij5/RiXuW21E1T6nkh/CEx8ExjSUmAs5benDHBqW3gIYJgdLOMR+fwwi0exBDyjDg42+TctF8/VwqT3HrzpS+ZNPMb73rFEC8iwDNR/0zfgShehLZ56R1QInaMt+bgNSpxSjgWrDufwsliXQ0ckRS04GEe+1mWN9Z2ozoJodZPMHJVEayPqErCGgwjp1VpfFEYTpLOkbusPxEtDX1sr+DasYTNWCEY8cFpNnP4hNHhxMbMBpaJPi4toDUzaolW5F24NuDZNm4RAXxgx8npjypcnpde8BFrLMzv4yyIzZiP/lOyhAhsl2Q7A=
